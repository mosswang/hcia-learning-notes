# IPV4地址组成





IP地址用于在网络层寻址使用，由网络地址和主机地址两部分组成，它是一个32位地址，分为四段，每段8位。

![](..\images\1696745899513.png)



IP地址取值范围: 0.0.0.0到255.255.255.255



# IPV4地址分类

最初设计互联网络时，为了便于寻址以及层次化构造网络，每个IP地址包括两个标识码（ID），即网络ID和主机ID。

同一个物理网络上的所有主机都使用同一个网络ID，网络上的一个主机（包括网络上工作站，服务器和路由器等）有一个主机ID与其对应。

IP地址根据网络ID的不同分为5种类型，A类地址、B类地址、C类地址、D类地址和E类地址。 

 ![](D:\wangxh\工作日志\H华为HCIA&HCIP&HCIE\docs\a5c27d1ed21b0ef4d415b4c23c1c5ad683cb3e95.jpg)



## **A类IP地址**

一个A类IP地址由1字节的网络地址和3字节主机地址组成，它主要为大型网络而设计的，网络地址的最高位必须是“0”， 地址范围从1.0.0.0 到127.0.0.0）。可用的A类网络有127个，每个网络能容纳16777214个主机。其中127.0.0.1是一个特殊的IP地址，表示主机本身，用于本地机器的测试。

注：

A:0-127，其中0代表任何地址，127为回环测试地址，因此，A类ip地址的实际范围是1-126.

**地址范围**

0.0.0.0~127.255.255.255/8

默认子网掩码为255.0.0.0



## **B类IP地址**

一个B类IP地址由2个字节的网络地址和2个字节的主机地址组成，网络地址的最高位必须是“10”，地址范围从128.0.0.0到191.255.255.255。可用的B类网络有16382个，每个网络能容纳6万多个主机 。

注：

B:128-191，其中128.0.0.0和191.255.0.0为保留ip，实际范围是128.1.0.0--191.254.0.0。

**地址范围**

128.0.0.0~191.255.255.255/16

默认子网掩码为255.255.0.0



## **C类IP地址**

一个C类IP地址由3字节的网络地址和1字节的主机地址组成，网络地址的最高位必须是“110”。范围从192.0.0.0到223.255.255.255。C类网络可达209万余个，每个网络能容纳254个主机。

注：C:192-223，其中192.0.0.0和223.255.255.0为保留ip，实际范围是192.0.1.0--223.255.254.0

**地址范围**

192.0.0.0~223.255.255.255/24

默认子网掩码为255.255.255.0



## **D类IP地址**

用于多点广播（Multicast）。 D类IP地址第一个字节以“lll0”开始，它是一个专门保留的地址。它并不指向特定的网络，目前这一类地址被用在多点广播（Multicast）中。多点广播地址用来一次寻址一组计算机，它标识共享同一协议的一组计算机。224.0.0.0到239.255.255.255用于多点广播 。



## **E类IP地址**

以“llll0”开始，为将来使用保留。240.0.0.0到255.255.255.254，255.255.255.255用于广播地址。

全零（“0．0．0．0”）地址对应于当前主机。全“1”的IP地址（“255．255．255．255”）是当前子网的广播地址。



## **保留私有IP地址**

这些地址一般用于局域网(内网)，公网IP(IANA分配)不使用这些地址。

在IP地址3种主要类型里，各保留了3个区域作为私有地址，其地址范围如下：

A类地址：10.0.0.0～10.255.255.255

B类地址：172.16.0.0～172.31.255.255

C类地址：192.168.0.0～192.168.255.255



# IP地址类型

我们通常把一个网络号所定义的网络范围称为网段。



## 网络地址：用于标识一个网络。

例如：192.168.10.0/24

|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 00000000 |



## 广播地址： 用于向该网络中所有主机发送数据的地址。

例如：192.168.10.255/24

|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 11111111 |



## 可用地址：可分配给网络中节点或网络设备接口的地址。

例如：192.168.10.0/24



|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 00000001 |



注意：网络地址和广播地址不能分配给主机或网络设备使用。

因此一个网段可用地址数量为： 
$$
2^n-2
$$
n:  主机部分比特位数。

在192.168.10.0/24网段中，主机为是8，因为可用地址数量为2^8-2=254个。



# 子网掩码



用来区分一个IP地址中的网络部分和主机部分。以192.168.10.1为例：



IP地址：192.168.10.1

网络部分：192.168.10

主机部分：1

子网掩码：255.255.255.0



因此该地址可以书写为 192.168.10.1/24。

![1696748905812](D:\wangxh\工作日志\H华为HCIA&HCIP&HCIE\1696748905812.png)



如果两个IP的网络地址相同，可以认为它们在同一个网段，直接进行二层(数据链路层)寻址即可。



## 子网划分

为节约IP地址，减少网段内主机数量和减少广播流量，可以在现有的A B C类的基础上，对网络进行粒度更细的划分。

例如，对于C类地址192.168.10.0/24，可用IP地址数是254个，现在需要划分为2个子网。**网络地址需要向主机地址借1位**。



| 192.168.10.0/25 | 192. | 168. | 10.  | 00000000 |
| --------------- | ---- | ---- | ---- | -------- |
| 新掩码 /25      | 255. | 255. | 255. | 10000000 |



子网1的网络地址

192.168.10.0/25

|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 00000000 |



子网1的广播地址

192.168.10.127/25

|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 01111111 |

子网1的子网掩码

255.255.255.0



子网2的网络地址

192.168.10.128/25

|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 10000000 |



子网2的广播地址

192.168.10.255/25



|      |      |      |          |
| ---- | ---- | ---- | -------- |
| 192. | 168. | 10.  | 11111111 |

子网2的子网掩码

255.255.255.128



# IP地址计算

172.16.10.1/16这个B类地址，网络地址、广播地址及可用地址数：

|      |      |            |          |
| ---- | ---- | ---------- | -------- |
| 172. | 16.  | 00001010 . | 00000001 |

B类地址的网络位是16，主机位是16。

网络地址：172.16.0.0/16

广播地址：172.16.255.255/16

ip地址数：2^16=65536

可用地址数：2^16-2=65534

可用IP地址范围：172.16.0.1/16~172.16.255.254/16



# 特殊IP地址

IP地址空间中，有一些特殊的IP地址，有特殊的含义，不能分配给主机或网络设备使用。

| 特殊IP地址   | 地址范围        | 作用                                                         |
| ------------ | --------------- | ------------------------------------------------------------ |
| 有限广播地址 | 255.255.255.255 | 可作为目的地址，发往该网段所有主机(受限网关)                 |
| 任意地址     | 0.0.0.0         | 任何网络的网络地址                                           |
| 环回地址     | 127.0.0.0/8     | 测试设备自身的软件系统                                       |
| 本地链路地址 | 169.254.0.0/16  | 当主机自动获取地址失败后，可使用该网络中的某个地址进行临时通信 |



# ISO参考模型与TCP/IP模型





![1696758054163](D:\wangxh\工作日志\H华为HCIA&HCIP&HCIE\docs\1696758054163.png)







![1708589998513](C:\Users\WANGXI~1\AppData\Local\Temp\1708589998513.png)





10  10 30 

如果需要3个子网

2^n>=3, n=2,  需要向主机位借2位即可划出3个子网

192.168.1.    00  000000    0

192.168.1.    01  000000   64

192.168.1.    10  000000    128



2^n-2>=10

n=4

192.168.1.    1111  0000~1111 1111



192.168.1.0/28  

192.168.1~192.168.15

255.255.255.240



192.168.1.16/28  

192.168.16~192.168.30

255.255.255.240



2^n-2>=30

n=5

192.168.1.    111  11000~192.168.1. 111  11111



192.168.1.32/27

192.168.1.33~192.168.1.63

255.255.255.224







![1708656873267](D:\wangxh\工作日志\H华为HCIA&HCIP&HCIE\yeslab\HCIA\hcia-learning-notes\images\1708656873267.png)









